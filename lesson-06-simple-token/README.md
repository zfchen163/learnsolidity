# 第6课：简单的代币（ERC20 入门）🪙

## 🎯 这一课你会学到

- 什么是代币（Token）
- ERC20 标准是什么
- 如何创建自己的代币
- 转账、授权、查询余额

## 🤔 人话解释

### 代币就像游戏币

想象一个游戏厅：

```
人民币 → 换游戏币 → 玩游戏
```

**传统游戏币**：
- 只能在这个游戏厅用
- 游戏厅说了算
- 不能转让给别人

**区块链代币**：
- 可以在任何支持的地方用
- 规则写在代码里
- 可以自由转让
- 可以在交易所交易

### 为什么要创建代币？

**用途**：
1. **项目代币**：代表项目的价值（像股票）
2. **积分系统**：奖励用户行为
3. **游戏货币**：游戏内的经济系统
4. **会员权益**：VIP 权限证明
5. **投票权**：治理代币

### ERC20 = 代币标准

ERC20 是以太坊上的代币标准，就像 USB 接口标准：

```
USB 标准：
- 所有 USB 设备都能互相兼容
- 不管是鼠标、键盘还是U盘

ERC20 标准：
- 所有钱包都能识别
- 所有交易所都能上架
- 所有 DApp 都能集成
```

**ERC20 规定的功能**：
1. `totalSupply()` - 总供应量
2. `balanceOf(address)` - 查询余额
3. `transfer(to, amount)` - 转账
4. `approve(spender, amount)` - 授权
5. `transferFrom(from, to, amount)` - 代理转账
6. `allowance(owner, spender)` - 查询授权额度

## 💰 代币经济学

### 1. 总供应量

```
比特币：2100万枚（固定）
以太坊：无上限（通胀）
你的代币：你决定！
```

### 2. 小数位数

```
ETH: 18 位小数
USDT: 6 位小数
你的代币：通常 18 位

1 个代币 = 1,000,000,000,000,000,000 最小单位
```

### 3. 分发方式

```
- 创建时全部给创始人
- 挖矿产出
- 质押奖励
- 空投
```

## 📝 代码解析

### 核心数据结构

```solidity
// 余额：地址 → 数量
mapping(address => uint256) public balanceOf;

// 授权：主人 → 代理人 → 额度
mapping(address => mapping(address => uint256)) public allowance;
```

### 转账流程

```
1. 检查余额够不够
2. 扣除发送方余额
3. 增加接收方余额
4. 触发 Transfer 事件
```

### 授权机制

为什么需要授权？

```
场景：你想在 Uniswap 上卖代币

方案1（不安全）：
把代币转给 Uniswap → Uniswap 帮你卖 → 转回钱
问题：Uniswap 可能跑路

方案2（安全）：
授权 Uniswap 可以花你的代币 → Uniswap 只能在你同意的范围内操作
```

## 🚀 运行示例

```bash
cd lesson-06-simple-token
./run.sh
```

## 📊 预期输出

```
=== 🪙 ERC20 代币测试 ===

1️⃣  部署代币合约
   代币名称: 我的代币
   代币符号: MYT
   小数位数: 18
   总供应量: 1,000,000 MYT
   创建者余额: 1,000,000 MYT

2️⃣  转账测试
   转账 100 MYT 从 A 到 B
   ✅ 转账成功
   A 余额: 999,900 MYT
   B 余额: 100 MYT

3️⃣  授权测试
   A 授权 C 可以花费 50 MYT
   ✅ 授权成功
   授权额度: 50 MYT

4️⃣  代理转账测试
   C 从 A 的账户转 30 MYT 给 D
   ✅ 转账成功
   A 余额: 999,870 MYT
   D 余额: 30 MYT
   剩余授权: 20 MYT

=== ✅ 测试完成 ===
```

## 🎮 动手试试

1. **改代币信息**：改名字、符号、总量
2. **添加功能**：
   - 增发（mint）
   - 销毁（burn）
   - 暂停转账（pause）
3. **创建分红代币**：持有者自动获得分红

## ❓ 常见问题

**Q: 代币和加密货币有什么区别？**
A: 
- 加密货币：有自己的区块链（如 BTC、ETH）
- 代币：在别人的区块链上（如 USDT 在以太坊上）

**Q: 创建代币需要花钱吗？**
A: 需要 Gas 费部署合约，大约 $50-200（取决于网络拥堵）

**Q: 代币可以上交易所吗？**
A: 可以，但交易所会审核项目

**Q: 如何防止代币被盗？**
A: 
- 不要授权给不信任的合约
- 定期检查授权：`allowance()`
- 使用硬件钱包

## 💡 实际应用

### 1. 项目代币

```
Uniswap: UNI
Aave: AAVE
Chainlink: LINK
```

### 2. 稳定币

```
USDT: 锚定美元
USDC: 锚定美元
DAI: 算法稳定币
```

### 3. 治理代币

```
持有代币 = 投票权
提案、投票、执行
```

## 🎯 下一课预告

现在你会创建代币了！下一课我们会学习：
- **NFT（数字收藏品）**
- 什么是 ERC721
- 如何铸造 NFT
- NFT 和代币的区别

---

💡 **记住**：ERC20 代币就像游戏币，但可以自由交易！
